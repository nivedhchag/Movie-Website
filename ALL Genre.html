<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" href="./movie logo.png">
    <title>FLING</title>
    <link rel="stylesheet" href="upg_movie.css">
    <link href="https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <style>
      .nav-wrapper {
     
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 60px;
  z-index: 99;
  background-color: black; /* Navbar background color */
}

.nav {
  display: flex;
  align-items: center;
  justify-content: space-between;
  height: var(--nav-height);
  padding: 0 20px;
}

.logo {
  font-size: 2rem;
  font-weight: 900;
  color:white;
  text-decoration: none;
}

.logo:hover {
  color: red;
}

.nav-menu {
  list-style-type: none;
  display: flex;
  align-items: center;
  margin: 0;
  padding: 0;
}

.nav-menu li ~ li {
  margin-left: 30px;
  color: white;
}

.nav-menu a {
  text-transform: uppercase;
  font-weight: 700;
  color: var(--text-color);
  text-decoration: none;
  font-size: 1rem;
}

.nav-menu a:hover {
  color: #0077B5;
}

      .image-box {
        width: 550px;
        overflow: hidden;
        height: 500px;
      }
      .ac_mov {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
      }
      .card {
        transition: transform 0.3s, box-shadow 0.3s;
        overflow: hidden;
        margin: 10px;
        height: auto;
        width: 300px;
      }
      .card img {
        height: 500px;
        width: 300px  ;
      }
      .card:hover {
        transform: scale(1.05);
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
      }
      .pagination button {
        margin: 0 5px;
        padding: 10px 20px;
        border: none;
        background-color: #007bff;
        color: white;
        border-radius: 5px;
        cursor: pointer;
      }
      .pagination button:disabled {
        background-color: #cccccc;
        cursor: not-allowed;
      }
      .fav-icon {
        cursor: pointer;
        font-size: 24px;
        color: #007bff;
      }
      .fav-count {
        font-size: 18px;
        color: #007bff;
      }
      .hamburger{
       display: none;
        
      }
      #toggle {
  position: relative;
  top: 5px;
  display: inline-block;
  width: 70px;
  height: 30px;
  background-color: white;
  border-radius: 20px;
  cursor: pointer;
  transition: background-color 0.3s ease;
  box-shadow: rgba(0, 0, 0, 0.05) 0px 6px 24px 0px, rgba(0, 0, 0, 0.08) 0px 0px 0px 1px;
}

/* Hide the checkbox */
#toggle input {
  display: none;
}

.color-change {
  display: flex;
  margin-left: 10px;
}

.toggle-circle {
  position: absolute;
  top: 5px;
  left: 5px;
  height: 20px;
  width: 20px;
  background-color: black;
  border-radius: 50%;
  box-shadow: rgba(0, 0, 0, 0.24) 0px 3px 8px;
  transform: scale(1.1);
  transition: left 0.3s ease, background-color 0.3s ease;
}

/* Move the circle when checkbox is checked */
#toggle input:checked + .toggle-circle {
  left: 45px;
  background-color: white;
}
.hamburger{
  color: red;
}
      @media (max-width: 768px) {
        
        .image-box {
          width: 100%;
          height: auto;
        }
        .hamburger{
        display: block;
        }
        .nav-menu li{
          display: none;

        }
       
  .nav-menu {
    position: fixed;
    top: 0;
    left: 0;
    margin-top: 45px;
    background-color: black;
    width: 100%;
    height: 100%;
    display: none;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    z-index: 1000;
  }
  .nav-menu li {
    margin: 15px 0;
    display: block;
    text-align: center;
    font-size: 20px;
  }
  .nav-menu li a {
    color: white;
    text-decoration: none;
  }
  .hamburger svg {
    cursor: pointer;
  }

      }
      .pagination {
        display: flex;
        justify-content: center;
        margin-top: 20px;
      }
      
      
      @media (max-width: 512px) {
        .hamburger{
        display: block;
        }
        .nav-menu li{
          display: none;

        }
       
  .nav-menu {
    position: fixed;
    top: 0;
    left: 0;
    background-color: black;
    width: 100%;
    height: 100%;
    display: none;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    z-index: 1000;
  }
  .nav-menu li {
    margin: 15px 0;
    display: block;
    text-align: center;
    font-size: 20px;
  }
  .nav-menu li a {
    color: white;
    text-decoration: none;
  }
  .hamburger svg {
    cursor: pointer;
  }


      }
        
      
    </style>
  </head>
  <body>
    <div class="nav-wrapper" id="nav-w">
      <div class="container">
        <div class="nav">
          <a href="#" class="logo" id="log">
            <i class='bx bx-movie-play bx-tada main-color'></i>Fl<span id="col" class="main-color">i</span>nG
          </a>
          <ul class="nav-menu" id="nav-menu">
            <li><label id="toggle">
              <input id="color" type="checkbox" onclick="toggleCircle()">
              <span class="toggle-circle"></span>
            </label></li>
            <li><a id="let" href="index.html">Home</a></li>
            <li class="nav-item">
              <a id="let1" href="#" onclick="filterGenre('Action')">Action</a>
            </li>
            <li><a id="let2" href="#" onclick="filterGenre('Romance')">Romance</a></li>
            <li><a id="let3" href="#" onclick="filterGenre('Comedy')">Comedy</a></li>
            <li><a id="let4" href="#">About</a></li>
            <li><input id="searchInput" class="form-control me-2" type="search" placeholder="Search for movies" aria-label="Search"></li>
            <li><button id="green" class="btn btn-outline-success" type="submit" onclick="filterMovies()">Search</button></li>
            <!-- Favorite Icon -->
            <li><i class="fa fa-heart fav-icon" onclick="toggleFavorites()"></i></li>
            <!-- Dynamic Favorites Count -->
            <li><span id="favCount" class="fav-count">Favorites: 0</span></li>
            
          </ul>
          
          <div class="hamburger" >
            <svg id="burger" xmlns="http://www.w3.org/2000/svg" width="36" height="36" fill="currentColor" class="bi bi-list" viewBox="0 0 16 16">
              <path fill-rule="evenodd" d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"/>
            </svg>
           
          </div>
        </div>
      </div>
      
    </div>

    <br><br><br><br>

    <div class="ac_mov" id="movie-cards-container"></div>

    <div class="pagination" id="pagination-container"></div>

    <script>
      const container = document.getElementById('movie-cards-container');
      const paginationContainer = document.getElementById('pagination-container');
      let allMovies = []; // Store all movie data globally
      let filteredMovies = []; // Store filtered movies (after genre filter)
      let currentPage = 1; // Track current page
      let favoriteCount = 0; // Track the number of favorites

      // Fetch all movies and store them in the global movies array
      async function fetchMovies(page = 1, searchQuery = '') {
        const apiKey = 'ace83b1b'; // Replace with your OMDB API key
        const url = `http://www.omdbapi.com/?apikey=${apiKey}&s=${searchQuery || 'movie'}&type=movie&page=${page}`;

        try {
          const response = await fetch(url);
          if (!response.ok) {
            throw new Error(`HTTP error! status: ${response.status}`);
          }
          const movieData = await response.json();

          if (movieData.Response === 'True') {
            allMovies = movieData.Search; // Save all movie data
            filteredMovies = allMovies; // Initially, show all movies
            displayMovies(filteredMovies);
            setupPagination(movieData.totalResults, page);
          } else {
            container.innerHTML = '<p id="neo">No movies found. Try another search.</p>';
            paginationContainer.innerHTML = '';
          }
        } catch (error) {
          console.error('Error fetching movie data:', error);
        }
      }

      // Display the filtered movies in card format
      function displayMovies(movies) {
        container.innerHTML = movies
          .map(movie => `  
            <div class="card">
              <div class="image-box">
                <img src="${movie.Poster !== 'N/A' ? movie.Poster : 'placeholder.jpg'}" alt="${movie.Title}">
              </div>
              <div class="card-body">
                <h3 class="card-title">${movie.Title}</h3>
                <p class="card-text"><strong>Year:</strong> ${movie.Year}</p>
                <!-- Add to Favorites Button -->
                <button class="btn btn-outline-success" onclick="addToFavorites()">Add to Favorites</button>
              </div>
            </div>
          `)
          .join('');
      }

      // Setup pagination buttons
      function setupPagination(totalResults, currentPage) {
        const totalPages = Math.ceil(totalResults / 10);
        paginationContainer.innerHTML = '';

        for (let i = 1; i <= totalPages && i <= 5; i++) {
          const button = document.createElement('button');
          button.textContent = i;
          button.disabled = i == currentPage;
          button.addEventListener('click', () => {
            fetchMovies(i, document.getElementById('searchInput').value);
          });
          paginationContainer.appendChild(button);
        }
      }

      // Search function
      function filterMovies() {
        const searchInput = document.getElementById('searchInput').value;
        fetchMovies(1, searchInput);
      }

      // Genre filter function
      function filterGenre(genre) {
        const searchInput = genre;
        fetchMovies(1, searchInput);
      }

      // Function to toggle favorites view (could be expanded to show favorite movies)
      function toggleFavorites() {
        alert(`You have ${favoriteCount} favorite movies.`);
      }

      // Function to handle adding a movie to favorites and incrementing the count
      function addToFavorites() {
        favoriteCount++;
        document.getElementById('favCount').textContent = `Favorites: ${favoriteCount}`;
      }

      fetchMovies(); // Initial fetch to load all movies
      
  //toggle for dark
function toggleCircle() {

  
const checkbox = document.getElementById('color');
const mainbody = document.querySelector('.mainbody');
const color_change = document.getElementById('name1')
let nippon = document.getElementById("devara")
let sidebox = document.getElementById('lists');
let li = document.getElementById('li_1')


if (checkbox.checked) {
  document.body.style.backgroundColor = 'black';
  document.getElementById('nav-w').style.backgroundColor='white'
  document.getElementById('log').style.color='black'  
  document.getElementById('let').style.color='black'  
  document.getElementById('let1').style.color='black'  
  document.getElementById('let2').style.color='black'  
  document.getElementById('let3').style.color='black'  
  document.getElementById('let4').style.color='black'  
  document.getElementById('og').style.color='red'
  document.getElementById("neo").style.color='red'
  

  
  
  
  



} else {
    document.body.style.backgroundColor = 'white';
    document.getElementById('nav-w').style.backgroundColor='black'
    document.getElementById('log').style.color='white'
    document.getElementById('let').style.color='white'  
    document.getElementById('let1').style.color='white'  
    document.getElementById('let2').style.color='white'  
    document.getElementById('let3').style.color='white'  
    document.getElementById('let4').style.color='white'  
    document.getElementById('let4').style.color='white'  
    document.getElementById('neo').style.color='red'
    
    

 
}
}
 /// Hamburger menu 
const hamburger = document.querySelector('.hamburger');
const navMenu = document.querySelector('.nav-menu');
const closeIcon = document.querySelector('.close-icon');

hamburger.addEventListener('click', () => {
  
  if (navMenu.style.display === 'flex') {
    navMenu.style.display = 'none'; 
  } else {
    navMenu.style.display = 'flex'; 
  }
});

closeIcon.addEventListener('click', () => {
  navMenu.style.display = 'none'; 
});
document.addEventListener('click', (e) => {
  if (!hamburger.contains(e.target) && !navMenu.contains(e.target)) {
    navMenu.style.display = 'none';
  }
});

    </script>
  </body>
</html>
